#!/bin/bash

CLANG_BIN_PATH="../esp-clang/bin"

ARGS=""
while [[ $# > 0 ]] ; do
    case $1 in
        -arch_only*)
        shift ;;
        -D*)
        ;;
        -o*)
        ;;
        -L*)
        ;;
        -static*)
        ;;
        -syslibroot*)
        shift ;;
        -filelist*)
        while read -r line; do
            ARGS=$line" "$ARGS
        done < $2
        shift ;;
        -V)
        libtool -V
        exit 0
        ;;
        *)
        ARGS=$1" "$ARGS
        ;;
    esac
    shift
done
ARGS="r "$ARGS

echo $CLANG_BIN_PATH/llvm-ar $ARGS
$CLANG_BIN_PATH/llvm-ar $ARGS
exit $?
